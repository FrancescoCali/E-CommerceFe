<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/login2.css">
    <link rel="stylesheet" href="../css/common.css">
    <title>Login</title>
</head>
<body>


<div class="container" id="container">
    <div class="form-container sign-up">
            <form th:action="@{/user/saveCreate}" th:object="${user}" method="post">
            <h1>Create Account</h1>
            <input type="hidden" th:field="*{role}"/>
            <input type="text" id="signup-username" th:field="*{username}" placeholder="Username" required>
            <input type="password" id="signup-password" th:field="*{password}" placeholder="Password" required>
            <input type="text" id="signup-address" th:field="*{address}" placeholder="Address" required>

            <button type="submit">Sign Up</button>
            <div th:if="${errorMessage}" class="error-message" style="color: red; margin-top: 10px;">
                <p th:text="${errorMessage}"></p>
            </div>
        </form>
    </div>
    <div class="form-container sign-in">
        <form th:action="@{/login}" method="post">
            <h1>Sign In</h1>
            <input type="text" placeholder="Username" id="login-username" name="username">
            <div class="password-wrapper">
            </div>
            <input type="password" placeholder="Password" id="login-password" name="password">
            <img src="/images/eye/eye-close.png" id="eyeicon" alt="Toggle Password Visibility">
            <button type="submit">Sign In</button>
        </form>
    </div>
    <div class="toggle-container br_30">
        <div class="toggle">
            <div class="toggle-panel toggle-left">
                <h1>Welcome Back!</h1>
                <p>Enter your personal details to use all of site features</p>
                <button class="hidden" id="login">Sign In</button>
            </div>
            <div class="toggle-panel toggle-right">
                <h1>Hello, Friend!</h1>
                <p>Register with your personal details to use all of site features</p>
                <button class="hidden" id="register">Sign Up</button>
            </div>
        </div>
    </div>
</div>

<!-- Sidebar -->
<div class="offcanvas offcanvas-end" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="userSidebar" aria-labelledby="userSidebarLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="userSidebarLabel">User Sidebar</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <ul>
            <li><a href="#">Link 1</a></li>
            <li><a href="#">Link 2</a></li>
            <li><a href="#">Link 3</a></li>
        </ul>
    </div>
</div>
<div th:if="${errorMSG != null}" class="error">
    <span th:text="${errorMSG}" style="color: red;"></span>
</div>
<script>
    let eyeicon = document.getElementById("eyeicon");
    let password = document.getElementById("login-password");

    eyeicon.onclick = function() {
        if (password.type === "password") {
            password.type = "text";
            eyeicon.src = '/images/eye/eye-open.png';
        } else {
            password.type = "password";
            eyeicon.src = '/images/eye/eye-close.png';
        }
    }
</script>

<script src="/javascript/login.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>



