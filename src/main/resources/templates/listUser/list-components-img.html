<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/common.css">
    <meta charset="UTF-8">
    <title>eCommerce</title>
    <script type="text/javascript">
        window.onload = function() {
            if (performance.navigation.type === 2) {
                // L'utente sta tornando indietro nella cronologia
                if (window.history.replaceState) {
                    window.history.replaceState(null, null, window.location.pathname);
                }
            }
        };
    </script>
</head>
<body>

<div class="bg_page w_100 h_100">

    <header>
        <div th:insert= "~{fragments/navigation(username=${username}, role=${role})}"></div>
    </header>

    <main class="slider-sidebar flex fd_column ai_center m_0 w_100">
        <!-- Navbar -->
        <nav class="flex jc_around w_50 p_075 nav_engine">
            <button class="m_0 bg_green b_0 br_10 t_white">
                <label for="t7-1" class="btn-std-h p_05 m_0">
                    Motherboard
                </label>
            </button>
            <button class="m_0 btn_bg b_0 br_10 t_white">
                <label for="t7-2" class="btn-std-h p_05 m_0">
                    GPU
                </label>
            </button>
            <button class="m_0 btn_bg b_0 br_10 t_white">
                <label for="t7-3" class="btn-std-h p_05 m_0">
                    CPU
                </label>
            </button>
            <button class="m_0 btn_bg b_0 br_10 t_white">
                <label for="t7-4" class="btn-std-h p_05 m_0">
                    Cooler
                </label>
            </button>
            <button class="m_0 btn_bg b_0 br_10 t_white">
                <label for="t7-5" class="btn-std-h p_05 m_0">
                    PSU
                </label>
            </button>
            <button class="m_0 btn_bg b_0 br_10 t_white">
                <label for="t7-6" class="btn-std-h p_05 m_0">
                    RAM
                </label>
            </button>
            <button class="m_0 btn_bg b_0 br_10 t_white">
                <label for="t7-7" class="btn-std-h p_05 m_0">
                    Memory
                </label>
            </button>
        </nav>

        <div class="slider-sidebar" align="center">
            <input type="radio" name="testimonial-7" id="t7-1" checked>
            <input type="radio" name="testimonial-7" id="t7-2">
            <input type="radio" name="testimonial-7" id="t7-3">
            <input type="radio" name="testimonial-7" id="t7-4">
            <input type="radio" name="testimonial-7" id="t7-5">
            <input type="radio" name="testimonial-7" id="t7-6">
            <input type="radio" name="testimonial-7" id="t7-7">
            <div class="testimonials testimonials-7">
                <label class="item" for="t7-1">
                    <a th:href="@{/productUser/list(item='motherboard')}">
                        <img th:src="@{/images/motherboard/motherboard-ASRock.png}" alt="motherboard">
                    </a>
                </label>
                <label class="item" for="t7-2">
                    <a th:href="@{/productUser/list(item='gpu')}">
                        <img th:src="@{/images/gpu/gpu-msi-4070ti-white.png}" alt="gpu">
                    </a>
                </label>
                <label class="item" for="t7-3">
                    <a th:href="@{/productUser/list(item='cpu')}">
                        <img th:src="@{/images/cpu/intel-i9-14th.png}" alt="cpu">
                    </a>
                </label>
                <label class="item" for="t7-4">
                    <a th:href="@{/productUser/list(item='cooler')}">
                        <img th:src="@{/images/cooler/cooler_master_hyper_h412r.png}" alt="cooler">
                    </a>
                </label>
                <label class="item" for="t7-5">
                    <a th:href="@{/productUser/list(item='psu')}">
                        <img th:src="@{/images/psu/psu-corsair-black-750w.png}" alt="psu">
                    </a>
                </label>
                <label class="item" for="t7-6">
                    <a th:href="@{/productUser/list(item='ram')}">
                        <img th:src="@{/images/ram/ram-corsair.png}" alt="ram">
                    </a>
                </label>
                <label class="item" for="t7-7">
                    <a th:href="@{/productUser/list(item='memory')}">
                        <img th:src="@{/images/memory/ssd-sabrent.png}" alt="memory">
                    </a>
                </label>
            </div>
            <br/>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
            const radios7 = document.querySelectorAll('.slider-sidebar input[name="testimonial-7"]');
            const labels7 = document.querySelectorAll('.nav_engine label');
            let currentIndex7 = 0;

            function changeImage7() {
                radios7[currentIndex7].checked = false;
                labels7[currentIndex7].parentElement.classList.remove('bg_green');
                labels7[currentIndex7].parentElement.classList.add('btn_bg');

                currentIndex7 = (currentIndex7 + 1) % radios7.length;

                radios7[currentIndex7].checked = true;
                labels7[currentIndex7].parentElement.classList.add('bg_green');
                labels7[currentIndex7].parentElement.classList.remove('btn_bg');
            }

            setInterval(changeImage7, 15000);

            labels7.forEach((label, index) => {
                label.addEventListener('click', function() {
                    currentIndex7 = index;

                    labels7.forEach(lbl => {
                        lbl.parentElement.classList.remove('bg_green');
                        lbl.parentElement.classList.add('btn_bg');
                    });

                    label.parentElement.classList.add('bg_green');
                    label.parentElement.classList.remove('btn_bg');
                });
            });
        });
        </script>


</body>
</html>